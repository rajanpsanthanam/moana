extends sub-layout.pug

block pane
    h1 Update Task
    form(role='form', action='/tasks/'+task.slug, method='post', style='max-width: 800px;')
      .row
        .col-sm-4
          .form-group
            label(for='title') Title
            input#title.form-control(type='text', name='title', placeholder='title', value=task.title)
          .form-group
            label(for='assignee') Assignee
            select.form-control(name='assignee')
              for user in users
                option(value=user._id, selected=task.assignee._id.toString() == user._id.toString()) #{user.username}
        .col-sm-4
          h4 Choose Labels
          if(labels)
            for label in labels
              .checkbox
                label
                  input(name=label.name, type='checkbox', value=label._id, checked=(opted_labels.includes(label._id.toString())))
                  |     #{label.name}
          else
            p Couldn't find any labels in the system
      .row
        .col-xs-2.col-sm-2.col-md-2
          input.btn.btn.btn-warning.btn-block(type='submit', value='Update')
        .col-xs-2.col-sm-2.col-md-2
          a.btn.btn.btn-primary.btn-block(href='/tasks') Cancel
