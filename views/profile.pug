extends manage-header.pug

block pane
  br
  .row
    .col-md-6
      h3 Update Email
      br
      form(role='form', action="/email-update/",method="post", style='max-width: 300px;')
        .form-group
            input.form-control(type='text', name="email", placeholder='Enter New Email', value=user.email)
        input.btn.btn.btn-warning.btn-block(type='submit', value='Update')
    .col-md-6
      p.lead Note
      p.alert.alert-info Changing email or password will log you out from the system, You should login with new details again!
  .row
    .col-md-6
      h3 Change Password
      form(role='form', action="/change-password/",method="post", style='max-width: 300px;')
        .form-group
            input.form-control(type='password', name="newPassword", placeholder='Enter New Password')
        .form-group
          input.form-control(type='password', name="confirmPassword", placeholder='Confirm Password')
        input.btn.btn.btn-warning.btn-block(type='submit', value='Change')
  hr
  .row
    .col-md-6
      if(user.is_admin)
        h3 API Token
        if(!user.api_token)
          a.btn.btn-warning(href='/users/'+user.username+'/create-token', role='button') Create Token
        else
          h4 #{user.api_token}
          .row
            .col-md-3
              a.btn.btn-warning(href='/users/'+user.username+'/create-token', role='button') Recreate Token
            .col-md-3
              a.btn.btn-danger(href='/users/'+user.username+'/delete-token', role='button') Delete Token
    .col-md-6
      p.alert.alert-info API Token enables access to your accounts via the API, kindly keep it private. Regenerating the token will un-authenticate previously generated token.
